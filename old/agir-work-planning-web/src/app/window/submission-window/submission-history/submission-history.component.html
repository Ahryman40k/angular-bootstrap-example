<div class="pt-4">
  <div class="d-flex justify-content-between mb-4">
    <h4>
      Historique
    </h4>
  </div>
  <div class="col-7 ">
    <div
      class="d-flex pb-2 pt-1 border-bottom flex-column"
      *ngFor="let item of mixedHistory | appOrderBy: 'createdAt':'desc'"
    >
      <div class="d-flex" *ngIf="(item.comment === undefined)">
        <span class="d-flex align-items-end font-weight-bold text-secondary user">
          {{ item.createdBy.displayName }}
        </span>
        <span class="ml-2">.</span>
        <span class="d-flex align-items-end ml-2 date"> Le {{ item.createdAt | date: 'mediumDate' }} </span>
      </div>
      <h6 *ngIf="(item.comment === undefined)">
        Modification de l’état d’avancement à
        {{ item.progressStatus | appTaxonomy: TaxonomyGroup.submissionProgressStatus }}
      </h6>

      <div class="d-flex" *ngIf="(item.comment !== undefined)">
        <span class="d-flex align-items-end font-weight-bold text-secondary user">
          {{ item.createdBy.displayName }}
        </span>
        <span class="ml-2">.</span>
        <span class="d-flex align-items-end ml-2 date">
          Le {{ item.createdAt | date: 'mediumDate' }} à {{ item.createdAt | date: 'hh:mm' }}
        </span>
      </div>
      <h6 *ngIf="(item.comment !== undefined)">
        {{ item.status === SubmissionStatus.VALID ? "Revalidation de la soumission" : "Invalidation de la soumission" }}
      </h6>
      <span>
        {{ item.comment }}
      </span>
    </div>
    <div class="d-flex pb-2 pt-1 border-bottom flex-column">
      <div class="d-flex">
        <span class="d-flex align-items-end font-weight-bold text-secondary user">
          {{ submission.audit.createdBy.displayName }}
        </span>
        <span class="ml-2">.</span>
        <span class="d-flex align-items-end ml-2 date">
          Le {{ submission.audit.createdAt | date: 'mediumDate' }} à {{ submission.audit.createdAt | date: 'hh:mm' }}
        </span>
      </div>
      <h6>
        Création de la soumission
      </h6>
    </div>
  </div>
</div>
